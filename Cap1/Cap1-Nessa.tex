\chapter{Introduction}\label{ch:introduction}

%======================================================================
\section{Motivation}\label{sec:motivation}

A \gls*{BCI} is a hardware and software communication system that enables cerebral activity alone to control computers and external devices \cite{nicolas2012brain}. The widespread use of neurophysiological signals to develop \gls*{BCI} systems has certainly varied clinical and non-clinical applications. Main implementations in medical issues include rehabilitation, cognitive state analysis, diagnostics, and assistive devices for communication, locomotion, or movement. On the other hand, there is significant research that approaches the \gls*{BCI} systems to healthy people in fields like neuroergonomics \cite{tremmel2019estimating}, smart homes \cite{maleki2021brain}, neuromarketing and advertising \cite{polat2021eeg}, games \cite{vasiljevic2020brain}, education \cite{taherian2018caregiver}, entertainment \cite{mudgal2020brain}, security and validation \cite{bansal2019eeg}.

In order to connect the brain to external devices, two types of brain activities can be monitored: electrophysiological and hemodynamics. Electrochemical transmitters exchanging information between the neurons generate the electrophysiological signals \cite{baillet2001electromagnetic}; \gls*{EEG}, electrocorticography, magnetoencephalography, and electrical signal acquisition in single neurons are the techniques used to measure these activities. The hemodynamics response is a process in which the blood releases glucose to active neurons \cite{laureys2009functional}; neuroimaging methods can quantify these changes, such as functional magnetic resonance and near-infrared spectroscopy. Yet, \gls*{EEG} is the most common method to get relevant information from the brain activity in \glspl*{BCI} systems, due to its high temporal resolution, relatively low cost, high portability, and few risks to the users \cite{nicolas-alonso_brain_2012}. Figure \ref{fig:bci_system} shows how a \gls*{BCI} system works like a brain transducer.

\input{Cap1/Figures/bci_system}

However, although \gls*{BCI} systems could require high demanding computational resources \cite{kostiukevych2021convolutional}, it is possible to build a capable system that works with \gls*{EEG}, skin-surface electrodes, and low-cost embedded acquisition devices. Furthermore, using free software and open-source resources, with the correct selection and integration of these components and focusing on the improvement of the signal acquisition, may consequently achieve clinical validation, effective dissemination models, and probably most importantly, increased reliability. Then, \gls*{BCI}s aim to become an important new technology for people with disabilities and, possibly, the general population \cite{wolpaw2012brain}.

In a local context, the \gls*{SPRG} of the Universidad Nacional de Colombia have been working on the analysis of neurophysiological data to propose and develop machine learning methodologies for the assisted diagnosis of mental conditions \cite{cardenas2017enhanced, collazos2019instance}, automated analysis of human activity recognition \cite{pulgarin2017relevant}, and biomedical data analysis \cite{hurtado2016identification}. More recently, SPRG have shown an interest in working with their own databases instead of using public domain ones in a variety of research projects (supported by Minciencias, Dirección Nacional de Investigaciones de Manizales (DIMA), and Vicerrectoría de Investigaciones de la Universidad Nacional de Colombia):

    

\begin{itemize}

    \item Herramienta de apoyo al diagnóstico del TDAH en niños a partir de múltiples características de actividad eléctrica cerebral desde registros \gls*{EEG}.

    \item Desarrollo de un sistema integrado de monitoreo de actividad cerebral a partir de registros \gls*{EEG} en pacientes bajo anestesia general para ambientes quirúrgicos.

    \item Prototipo de interfaz cerebro-computador de bajo costo para la detección de patrones relevantes de actividad eléctrica cerebral relacionados con TDAH.

    \item Prototipo de interfaz cerebro-computador multimodal para la detección de patrones relevantes relacionados con trastornos de impulsividad.

    \item Interfaz cerebro-computador basada en aprendizaje de máquina y teoría de información como soporte a la detección de trastornos de déficit de atención e hiperactividad.

    \item Brain Music: Prototipo de interfaz interactiva para generación de piezas musicales basado en respuestas eléctricas cerebrales y técnicas de composición atonal.

\end{itemize}


The achievement of an independent \gls*{BCI} software with an environment for developers and researchers that integrates an interface to design their custom visualization and neurophysiological experiments, which also handles the signals acquisition, synchronizes markers, and automatically creates ready-to-use databases, would comprise a very useful tool for the \gls*{SPRG}. It would also greatly simplify the testing and designing of \gls*{BCI} systems, guarantee better repeatability, reduce failure points, and speed up the debugging process. 

%======================================================================
\section{Problem statement}\label{sec:problem} 

Implementing a \gls*{BCI} system is an interdisciplinary activity that demands specific and outstanding knowledge about communication systems, signals acquisition, instrumentation, clinical protocols, experiment validation, and software development \cite{wolpaw2002brain}. A \gls*{BCI} software that functions properly can be easily adapted to different experimental situations and can facilitate the operation of entire research programs rather than the execution of an individual study. Therefore, the premise of existing open-source or commercial \gls*{BCI} software is to reduce this complexity, difficulty, and cost \cite{nam2018brain}.

Including “open” components increases the technology acceptance \cite{wessel2019switching}, reduces costs, enables collaborative development, and impulses a community working around \gls*{BCI} to extend this machinery for the general population \cite{wolpaw2012brain}. The main issues about \gls*{BCI} development systems lie around (i) the EEG acquisition system used for \gls*{BCI} differs from standard or medical implementations. (ii) The specialized software is hard to modify according to specific needs, and (iii) the highly variational computational cost leads to the development of unstable and difficult-to-scale applications.

%----------------------------------------------------------------------
\subsection{Acquisition system requirements}

 Not all \gls*{EEG} acquisition systems are capable of using \glspl*{BCI} systems. Even if the clinic devices are highly accurate, these implementations have limited, or nonexistent, real-time data flow access; due to their primary use being diagnostic and offline analysis \cite{ordikhani2018augmenting}. Overall, low-cost \gls*{EEG} headsets show greater design convenience, as the portability, for “real world” occupational use and capabilities to handle \gls*{BCI} tasks with varying degrees of success \cite{martinez2016low}. However, open-source software and occupational refinement may boost the potential of these systems. Besides, there exists a need to implement a context-specific development to improve their base features \cite{larocco2020systemic}.

As shown in Table \ref{table:bci_hardware}, there is a complete set of devices, but only one of the listed hardware is “open-source”; therefore, its freedom makes it possible to modify the hardware and also access the firmware. Then, with all these options, it is possible and needed to develop custom drivers with high-level interactions. Even if the OpenBCI is the most featured option, the communication between the computer and the board is not always stable \cite{peterson2020feasibility}, and their \gls*{GUI} does not provide the possibility of acquiring data under a particular \gls*{BCI} paradigm. Otherwise, their hardware base and \gls*{SDK} features give this board an enormous potential to implement a complete \gls*{BCI} system comparable to medical-grade equipment \cite{frey2016comparison}.

%----------------------------------------------------------------------
\subsection{BCI software development issues}

As for the software capable of handling \gls*{BCI} implementation, a few of them are independent, but in almost all cases, at least a couple is needed to perform a complete \gls*{BCI} paradigm. Some will perform only acquisition, others will include data processing, and a few will have stimuli delivered integrated with the main interface \cite{brunner2018bci}. The main reason to use over one software is that many of these tools, even when they can be helpful, are not strictly for \gls*{BCI} but behavioral sciences, neuroscience, psychology, psychophysics, or linguistics. 

Proprietary software compromises the extensibility\footnote{Extensibility is the ability of the software system to allow and accept the significant extension of its capabilities without major rewriting of code or changes in its basic architecture.} of its tools by limiting data transmission protocols or creating a close list of compatible hardware \cite{lecuyer2008brain, palaus2017neural, bassolino2018non}. Although all these software offer greater ease of use through experimenter interfaces, they can be costly. The open-source options still require high-level programming and technical skills, and usually, no one supports dedicated data acquisition \cite{nam2018brain}.

%----------------------------------------------------------------------
\subsection{Computational cost}

The three most important tasks of a \gls*{BCI} system are signal acquisition, feature extraction and classification, and command translation or mapping \cite{sugiarto2009application}. These tasks demand a high-performance computer running many processes under non-real-time operating systems. Distributing those three highly CPU resources consuming processes in a distributed system will reduce the computing complexity of a \gls*{BCI} framework, thus increasing the reliability of overall system performance \cite{sugiarto2009application}. In a standard \gls*{EEG}-based medical experiment, there are at least three components of data abstraction working simultaneously: data acquisition, signal database, and signal visualization \cite{alvarez2015clinical, beniczky2017standardized}. But in a close-loop \gls*{BCI} system, at least seven main components are required to be synchronized: data acquisition, signals database/storage, feature processing (extraction and classification), visualization (temporal or spatial), command generation for actuators, command database, and feedback acquisition \cite{sugiarto2009application}.

\gls*{BCI} systems usually do not run under a real-time operating system which means that the use of the resources will affect each component of the system. Some paradigms in the event-related potential \gls*{ERP} need high precision for marker synchronization. For this purpose, the latency must be not only at low levels but also with small variabilities. This additional measure is called jitter. Both tell about the stability of a system and the capacity to handle more processes. Under some environments like the researching, centralized systems are susceptible to being slow down because of unexpected processing costs \cite{assran2020advances, deshmukh2021collaborative}. 

Therefore, some problems related to the agile acquisition of \gls*{EEG} signals under multiple paradigms remain unsolved. For this reason, the following research question arises: how to develop an independent \gls*{EEG}-based \gls*{BCI} monitoring framework that integrates real-time acquisition and visualization from audiovisual stimulation paradigms using OpenBCI?

%======================================================================
\section{State-of-the-art \gls*{BCI} systems}\label{sec:state_of_art}

%----------------------------------------------------------------------
\subsection{BCI hardware}

Recently, and because of the cheapening prototyping development, a set of low-cost embedded systems for \gls*{EEG} acquisition has appeared in the market. All these options typically include an \gls*{SDK} which could be open-source or proprietary: this embedded device commonly adds some flexibility (rigid or customizable electrode placement, multiple sampling rates, transmission protocols, wireless, among others).

Many \gls*{EEG} acquisition systems have been developed in recent years; however, to name only the most significant ones, a selection criterion was taken into account to compare: portable devices that are still available in the market with a stable and substantial base of active users.

\input{Cap1/Tables/bci_hardware}

\subsubsection{Montages and electrodes placement}

Table \ref{table:bci_hardware} compiles the features of the most relevant acquisition systems. Regarding electrode placement, devices with rigid placements are related to simple neurophysiological activities like concentration, drowsiness, stress, and Approach-Withdrawal pleasantness. In most cases, a task that only needs booleans or low-frequency data transmission is provided: these systems will not return the raw \gls*{EEG} data, but will return trends for only a few channels (\textit{InteraXon Inc. Muse}\footnote{\href{https://choosemuse.com/}{https://choosemuse.com/}}, \textit{IMEC EEG Headset}\footnote{\href{https://www.imec-int.com/en/eeg}{https://www.imec-int.com/en/eeg}}, or \textit{NeuroSky Mind Wave}\footnote{\href{https://store.neurosky.com/pages/mindwave}{https://store.neurosky.com/pages/mindwave}}). Other devices concentrate their distributions in the sensory-motor brain areas to perform motor-imagery tasks (\textit{Emotive EPOC+}\footnote{\href{https://www.emotiv.com/epoc/}{https://www.emotiv.com/epoc/}} or \textit{B-Alert x10}\footnote{\href{https://www.advancedbrainmonitoring.com/products/b-alert-x10}{https://www.advancedbrainmonitoring.com/products/b-alert-x10}}). Portable devices usually support wireless data transmission, Bluetooth  (\textit{Enobio}\footnote{\href{https://www.neuroelectrics.com/solutions/enobio}{https://www.neuroelectrics.com/solutions/enobio}}, \textit{q.DSI 10/20}\footnote{\href{http://www.quasarusa.com/products_dsi.htm}{http://www.quasarusa.com/products_dsi.htm}}, \textit{NeXus-32}\footnote{\href{https://www.biofeedback-tech.com/nexus-32}{https://www.biofeedback-tech.com/nexus-32}}, \textit{Cognionic CGX MOBILE}\footnote{\href{https://www.cgxsystems.com/mobile-128}{https://www.cgxsystems.com/mobile-128}}), radiofrequency, or Wi-Fi. Only the wired and the Wi-Fi ones are capable of handling data transmission over 1 kHz. These kinds of transmissions are also associated with a large number of channels (\textit{OpenBCI}\footnote{\href{https://openbci.caom/}{https://openbci.caom/}}, Cognionic Quick-20\footnote{\href{https://www.cgxsystems.com/quick-20m}{https://www.cgxsystems.com/quick-20m}}, \textit{ActiCap}\footnote{\href{https://brainvision.com/products/acticap-slim-acticap-snap}{https://brainvision.com/products/acticap-slim-acticap-snap}} or \textit{Biosemi ActiveTwo}\footnote{\href{https://www.biosemi.com/products.htm}{https://www.biosemi.com/products.htm}}). 

It is possible to conclude that, even if the rigid electrode placements can be used for some \gls*{BCI} experiments, the flexible electrode placement is the best option for general \gls*{BCI}. Also, devices that do not include a universal electrode attachment provide standard montages, like the 10-20 one, and additionally, wired systems are related to high electrode density. Lastly, few “open” devices show success in the market.

\subsubsection{Licensing and freedoms}

Licensing is one of the most important features when considering the inclusion of hardware in a real environment\cita{}. There are mainly three options: first, close hardware with close restrictive licenses; in these cases, the developments can not be redistributed, commercialized, or even shared for repeatability experiments \cite{}. Second, close hardware with open licenses, which allows developers to build, modify and share a complete acquisition system \cite{}. Finally, and similar to the second case, a device that can be completely open means that there are no restrictions on the development, and all builds, configurations, and modifications can be shared.

So, a real-world solution generally includes “open” components to increase the technology acceptance \cite{powell2012democratizing,  legenvre2020open}, reduce costs, enable collaborative development, and impulses a community working around \gls*{BCI} to extend this machinery for the general population \cite{wolpaw2012brain}.

%----------------------------------------------------------------------
\subsubsection{OpenBCI acquisition system}

On the open-source hardware side, we can find that \textit{OpenBCI} is one of the most flexible options \cite{laport2019comparative}. This board not only works with \gls*{EEG} but is also suitable for \gls*{EMG} and \gls*{ECG}. The \footcite{OpenBCI Cyton}{https://openbci.com/} biosensing board comprises a \textit{PIC32MX250F128B} microcontroller, a \textit{ChipKIT UDB32-MX2-DIP bootloader}, a LIS3DH 3-axis accelerometer, and an \textit{ADS1299} analog-to-digital converter with 8 input channels (expandable to 16) up to a sampling rate of 16 kHz. Notably, \gls*{EEG} channels can be configured as monopolar and bipolar (and, consequently, sequentially) with up to five external digital inputs and three analog inputs. Also, the data flow is accessible through a Wi-Fi interface using \gls*{TCP}. 

Table \ref{table:openbci_configurations} summarizes \textit{OpenBCI} main configurations. \textit{RFduino}, by default, supports 250 \gls*{SPS} and 8 channels, but with the \textit{Daisy} addition, it can expand up to 16 channels, and, with the \textit{Wi-Fi shield}, the sample rate can increase up to 16 kHz. All channels can be configured as monopolar, bipolar, and sequential.

The \textit{OpenBCI} Cyton board used to have Python-compatible drivers\footnote{\href{https://github.com/openbci-archive/OpenBCI_Python}{https://github.com/openbci-archive/OpenBCI\_Python}}, but now these are deprecated in favor of a new family of drivers board agnostic, \footcite{BrainFlow}{https://brainflow.org/}. The main reason to develop board-first drivers resides in taking advantage of all low-level features and integrating them into the final drivers through high-level board configurations. 

\input{Cap1/Tables/openbci}

%----------------------------------------------------------------------
\subsection{BCI software}

Acquiring brain signals is only one task for a \gls*{BCI} system. It is also necessary to carry out a lot of data processing and controlled experiments. Therefore, a specialized software segment persists for developers and researchers that offer tools for this or similar purposes. In this case, non-\gls*{BCI} software refers to tools that are not designed for \gls*{BCI} environments, but integrate features that they can also use, usually related to neuroscience in general. Conversely, there is a set of applications that integrate useful features for \gls*{BCI}, such as data processing and, sometimes, close-loops.

Table \ref{table:bci_software} summarizes the most common systems used for \gls*{BCI} where we can see four big groups: 
(i) the ones with stimuli delivery and data analysis are designed for close loops like \footcite{BCI2000}{https://www.bci2000.org/} \footcite{OpenViBE}{http://openvibe.inria.fr/} and \footcite{Neurobehavioral Systems Presentation}{https://www.neurobs.com/};
(ii) others have the same features, but their implementation is not focused on closing the loop like \footcite{ePrime}{https://pstnet.com/products/e-prime/}, \footcite{OpenSesame}{https://osdoc.cogsci.nl/}, and \footcite{g.BCISYS}{https://www.gtec.at/product/bcisystem/};
(iii) and a few of them that only include data analysis, typically the Matlab toolboxes like \footcite{EEGLAB}{https://sccn.ucsd.edu/eeglab/index.php} and \footcite{FieldTrip}{https://www.fieldtriptoolbox.org/};
(iv) some neuropsychology tools, since this is a precision task, only have in their interfaces a stimuli delivery like \footcite{Millisecond Inquisit Lab}{https://www.millisecond.com/products/inquisit6/laboverview.aspx} \footcite{Pychotoolbox-3}{http://psychtoolbox.org/}, \footcite{MonkeyLogic}{https://www.brown.edu/Research/monkeylogic/}, and \footcite{PychoPy}{https://www.psychopy.org/}. Additionally, there exist multiple tools that are not mentioned here, except \footcite{OpenBCI GUI}{https://github.com/OpenBCI/OpenBCI_GUI}, which like this one, only works as a demo interface for their main hardware products.

All previous systems have two additional features that share no relation with the main groups of focused users or the final implementation: the extensibility, the ability to create, modify and run custom experiments instead of the included by default, and the license distribution. However, these features are related to them. Free (as in freedom) licenses usually give the user the tools to not only configure but rebuild the software itself. A system that does not offer the user the capability for extensibility is generally a proprietary one. 

\input{Cap1/Tables/bci_software}

%----------------------------------------------------------------------
\subsubsection{Non-\gls*{BCI} related software}

For the cases where extensibility is a needed feature, some \gls*{BCI} implementation uses a set of applications simultaneously. Diverse psychology software can generate a stimulus to use in \gls*{BCI} paradigms; certainly, there are really fast and precise tools in this field, with graphical interfaces for easy design of experiments and audiovisual stimulation. Additionally, other types of software can be used to process data in real-time, which can be done through a private scripting interface, toolboxes, or libraries. Also, some programming languages like \textit{Matlab} \cite{martinez2021open, choudhury2019implementation} and \textit{Python} \cite{GramfortEtAl2013a} host dedicated environments to handle the processing necessary for \gls*{BCI}.

%----------------------------------------------------------------------
\subsubsection{\gls*{BCI} as an independent software}

An independent software comprises the complete process of a \gls*{BCI} implementation: this goes from data acquisition to real-world command generation. A delivery feature is also included in its interfaces, regardless of whether the focus is on research or production; usually, these systems do not include the interpretation of commands in the real world and depend on third-party systems for the markers synchronization. It is also common that the interface for the acquisition is a part of the stimuli delivery. On the other hand, there are a few tools designed specifically for \gls*{BCI}, like \textit{BCI2000} \cite{schalk2004bci2000} and \textit{OpenViBE} \cite{renard2010openvibe}, which are available under permissive licenses and have an active community of developers and users working with both of them. It is then up to the community to manage the incorporation of new acquisition systems and custom paradigms, even if the main interface does not support extensibility.

The most popular tool focused on \gls*{BCI} is \textit{BCI200} which comes with default paradigms; however, it has been pointed out that its interface is not very intuitive and its operation is difficult to understand initially  \cite{madrid2014brain}, and although it is possible to add new paradigms, this one must include software contributions using their own libraries and not through a built-int development interface. Another software widely used is \textit{OpenViBE}, which features a graphical drag-and-drop interface to perform data analysis with an extensive set of pre-defined algorithms; nevertheless, its synchronous acquisition system is known for occasionally freezing the computer and adding delays to the signal streaming \cite{peterson2020feasibility}. It is easy to point out that high-level tools require a lot of computational resources.

%----------------------------------------------------------------------
\subsubsection{Marker synchronization}

For both cases, \gls*{BCI} and non-\gls*{BCI} implementations, the data acquisition requires to be synchronized with the stimuli delivery. Multiple techniques are described \cite{wilson2010procedure} to make these measures in the instances where it is possible. In most cases, specialized laboratory equipment is necessary \cite{appelhoff2021we, razavi2022opensync} to calculate latencies and make corrections offline. This approach satisfies the database generations, and for real-time analysis, the system must be calibrated with a previously measured latency. This measurement is not constant and will depend on the operating system and may even be correlated with processing techniques, so the protocol to measure latencies must be executed after minimal system changes. Other options include creating control signals \cite{davis2020stimulus} and performing corrections in real-time. This choice will only work on systems that can acquire external signals in conjunction with the \gls*{EEG} channels.

%----------------------------------------------------------------------
\subsection{Real-time and computational cost handling}

At present, most existing systems use a high-quality algorithm to train the data offline and run only the classification in real-time, so much work has been done to reduce the computational cost for processing signals to use in \gls*{BCI} \cite{netzer2020real, hasan2020computationally}. A constant discussion turns around the computational cost vs. accuracy \cite{ahmadi2012brain} because, along with new processors, new costly analysis techniques also emerge. Therefore, low-cost computational methods are always an aim \cite{changoluisa2020low}.

Offline analysis may not represent significant challenges unless the amount of data to process is high. Although cloud-based strategies (e.g., \textit{NeuroCAAS} \cite{abe2021neuroscience}) are practical, they are not suitable for the real-time requirement of the \gls*{BCI} systems.

Real-time processing of large neural data streams has become workable thanks to advances in computer processing power, electronics such as microprocessors and \glspl*{FPGA}, and specialized and open-source software \cite{potter2014closed}. In the neuroscience field, \textit{RTBiomanager} \cite{muniz2009rtbiomanager} was designed to explore the use of real-time technology to build a set of novel experiments that combine different recording and stimulation techniques. In a similar context, purposes like \textit{RTHybrid} \cite{amaducci2019rthybrid} are not only efforts on real-time stimuli delivery precision but also standardization methods.

{\color{Nessa}
All tools for real-time computational in the field of neuroscience and \gls*{BCI} are focused on the processing instead of the acquisition, the main reason is due the separation of the specialized software. Other approaches to improve the processing are related with the optimisation instead of the distributed computing. Then, is required a framework that allows the flexible implementation of distribute computing, for the design and the development of \gls*{BCI} systems.}


%======================================================================
\section{Aims}\label{sec:objectives}

%----------------------------------------------------------------------
\subsection{General aim}

To develop an \gls*{EEG}-based \gls*{BCI} monitoring framework with real-time acquisition and visualization for audiovisual stimulation paradigms using \textit{OpenBCI}, focused on designing, performing, and validating \gls*{BCI} systems to conduct experiments in all stages: design, testing, and production.

%----------------------------------------------------------------------
\subsection{Specific aims}

    \begin{itemize}

        \item To implement a cross-platform library for \textit{OpenBCI} hardware that allows distributed functionalities, low-level board configurations, an acquisition protocol, data storage, and external inputs handler. %marker synchronization. 
        
        \item To implement a distributed computing paradigm that allows managing acquisition boards, acquiring \gls*{EEG} signals through a network, synchronizing markers, measuring latencies, and delivering stimuli experiments into a decentralized environment using a \gls*{SBC} scheme.

        \item To develop an independent interface with an \gls*{IDE} featured to configure the acquisition system, design real-time visualizations, execute timelock analysis, and perform stimuli delivery. 


    \end{itemize}

%======================================================================
\section{Outline and contributions}

{\color {Nessa}
In the following, we briefly introduce the main contributions of this thesis. They are summarized in Figure \ref{fig:outline}

\input{Cap1/Figures/outline}

A complete source code for the drivers OpenBCI-Stream\footnote{\href{https://github.com/UN-GCPDS/openbci-stream}{https://github.com/UN-GCPDS/openbci-stream}} and BCI-Framework\footnote{\href{https://github.com/UN-GCPDS/bci-framework}{https://github.com/UN-GCPDS/bci-framework}} are available in the public research group repository.
}

%----------------------------------------------------------------------
\subsection{High-level acquisition drivers for OpenBCI}

\textit{OpenBCI Cyton} is the most promising hardware to implement signals acquisition due to its low-level features and open-source design. However, it is significantly lacking in drivers, there are no dedicated tools to handle acquisition signals, and the current approach does not take advantage of all hardware capabilities. A qualified and research-grade tool for \gls*{BCI} implementations must gather a set of features related to the quality of the signal and the reliability of the data acquired; this can be done by implementing subroutines such as impedance measurement and marker synchronization, respectively.

Bearing this in mind, we proposed to develop \textit{OpenBCI-Stream}, a high-level Python module for \gls*{EEG}/\gls*{EMG}/\gls*{ECG} acquisition, and distributed streaming for \textit{OpenBCI Cyton} boards. This development is related to the first specific aim, and it is described in Chapter \ref{ch:chapter_2}.

%----------------------------------------------------------------------
\subsection{Distributed implementation}

{\color {Nessa}
The proposed acquisition system is susceptible to be affected by the computational environment, this can affect the sampling and the real-time desired feature. Research environs needs that the computational cost of the data processing not affect the performance of neurophysiological experiments itself. To mitigate this issues, the implementation of the developed system use distributed computing approaches to facilitate the escalation and the integration with custom and third party systems. 

Chapter \ref{ch:chapter_3} exposes the methods and resources used to built the distributed features alongside a definition of real-time used in this work, also an analysis to measure and compare latencies has been performed for some common acquisition configurations with OpenBCI.
}

%----------------------------------------------------------------------
\subsection{\gls*{BCI}-Framework}

{\color {Nessa}
The effectiveness of a BCI system, and the ability of users to learn to use it, depends on the system's ability to acquire and process signals, present stimuli in real-time, and provide the user with consistent feedback with low latency and minimal jitter \cite{wilson2010procedure}. 

Chapter \ref{ch:chapter_4} presents BCI-Framework, this is the top-level software that integrates all the components developed in this work. Defines a new integrated approach to works with BCI systems, establish a dynamic and fast method to design custom paradigms, and generate visualizations. Serve to the user a clean development environment with all parameters and the data stream ready to use.
}


%======================================================================
\section{Thesis structure}

{\color {Nessa}
The next parts of this thesis is organized as follows.
In Chapter \ref{ch:chapter_2} we introduce a brand new drivers for OpenBCI that integrates a full features to handle the acquisition board through a Python API implementation. 
Chapter \ref{ch:chapter_3} implements the mentioned drivers under a distributed paradigm for board configuration and data acquisition. Also a set of experiments to measure the latency and performance has been included. 
Finally, in Chapter \ref{ch:chapter_4} all components developed were integrated into a single GUI software called BCI-Framework that also serve a development environment than can be used to design and build custom real-time visualizations and neurophysiological experiments. 
}