\begin{minted}
[
mathescape=true, 
xleftmargin=1cm, 
xrightmargin=1cm,
fontsize=\scriptsize, 
baselinestretch=1.2,
python3=true,
%  samepage=true,
% linenos=true,
highlightlines={4,17},
style=emacs,
highlightcolor=UN_primary!20,
]
{python}
from bci_framework.extensions.visualizations import EEGStream
from bci_framework.extensions.visualizations.utils import loop_consumer

class Stream(EEGStream):  # This is `matplotlib.Figure` based class
    def __init__(self):
        super().__init__()

        self.axis = self.add_subplot(111)
        self.axis.set_title('Title')
        self.axis.set_xlabel('Time')
        self.axis.set_ylabel('Amplitude')
        self.axis.grid(True)
        self.stream()

    @loop_consumer('eeg')
    def stream(self, *args, **kwargs):
        self.feed()

if __name__ == '__main__':
    Stream()
\end{minted}